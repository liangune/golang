#### 1. 检测设备是否在线功能
- 1、 ping设备IP判断设备网络是否有问题
- 2、 1400协议接入的设备通过保活消息判断设备是否在线
- 3、 SDK方式接入的设备, 登录成功发送消息, 掉线发送消息

#### 2. 消息传递的方式
- 通过kafka

##### kafka的消息结构

| 参数      | 类型   | 描述                                 |
| --------- | ------ | ------------------------------------ |
| DeviceID  | string | 设备ID                               |
| LocalTime | string | 时间                                 |
| type      | string | 是否离线，1-离线，0或者无此字段-正常 |
| protocol  | string | 接入协议，1400，SDK等方式            |

- 例子：
```
{
  "KeepaliveObject": {
    "DeviceID": "37140000005035300009",
    "LocalTime": "20220617111932",
    "type":"1", 
    "protocol": "1400"
  }
}
```

#### 3. 设备管理
- 针对不同网段(视频网、互联网、政务网)的在线的、正常使用的设备
- 定时ping设备网络查看网络是否可达, 输出报表
- 对1400和SDK接入的设备, 定时统计是否在线, 输出报表

